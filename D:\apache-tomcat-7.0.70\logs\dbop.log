2022-02-24 09:32:32 961 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:32:32 964 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] true
2022-02-24 09:32:32 969 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] 激励值：【80】
2022-02-24 09:40:30 829 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:40:30 859 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] false
2022-02-24 09:41:33 436 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:41:33 462 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] false
2022-02-24 09:43:06 246 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:43:06 271 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] false
2022-02-24 09:44:28 304 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:44:28 330 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] true
2022-02-24 09:44:28 334 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] 激励值：【80】
2022-02-24 09:45:02 979 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] ((#countData>10 and #countData<=100) or (#countData>100))
2022-02-24 09:45:03 011 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] true
2022-02-24 09:45:03 018 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] 激励值：【256】
2022-02-24 11:45:52 682 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:45:52 782 [ERROR] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] filter rule with time fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.filter.TimeScopeFilter.filter(TimeScopeFilter.java:35)
	at com.liuxin.tspring.engine.RuleEngine.preFilter(RuleEngine.java:44)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:94)
2022-02-24 11:46:36 886 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:46:37 017 [ERROR] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] filter rule with time fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.filter.TimeScopeFilter.filter(TimeScopeFilter.java:35)
	at com.liuxin.tspring.engine.RuleEngine.preFilter(RuleEngine.java:44)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:94)
2022-02-24 11:47:27 154 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:48:46 606 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:48:46 718 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:true
2022-02-24 11:48:46 721 [INFO] [main] [com.liuxin.tspring.engine.filter.UserAcceptFilter] user scope filter end, result:true
2022-02-24 11:49:10 840 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:49:18 638 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:true
2022-02-24 11:49:22 935 [INFO] [main] [com.liuxin.tspring.engine.filter.UserAcceptFilter] user scope filter end, result:true
2022-02-24 11:49:51 302 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:49:54 299 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 11:50:15 812 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 11:50:30 890 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:16:48 081 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:16:48 194 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:19:25 957 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:19:26 057 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:19:26 162 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] check result :true
2022-02-24 12:19:37 166 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:19:37 255 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:19:37 341 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] check result :false
2022-02-24 12:19:50 929 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:19:51 053 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:19:51 139 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] check result :true
2022-02-24 12:20:36 658 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:20:36 775 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:20:36 868 [ERROR] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] get parse instance error
java.lang.NumberFormatException
	at java.math.BigDecimal.<init>(BigDecimal.java:497)
	at java.math.BigDecimal.<init>(BigDecimal.java:383)
	at java.math.BigDecimal.<init>(BigDecimal.java:809)
	at com.liuxin.tspring.engine.PercentIncomeCaculator.caculateIncome(PercentIncomeCaculator.java:39)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:105)
2022-02-24 12:20:47 608 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:20:47 733 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:20:47 818 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] check result :true
2022-02-24 12:21:33 564 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] rule check pre filter init success
2022-02-24 12:21:33 654 [INFO] [main] [com.liuxin.tspring.engine.filter.TimeScopeFilter] time scope filter end, result:false
2022-02-24 12:21:33 751 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] check result :true and income:240 
2022-02-24 14:48:59 880 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] 3
2022-02-24 14:51:33 005 [INFO] [main] [com.liuxin.tspring.engine.LadderRuleExpressParser] 6.0
2022-02-24 15:03:43 647 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.RuleFactory.getInstance(RuleFactory.java:6)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$3(RuleEngine.java:64)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:60)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:71)
2022-02-24 15:03:43 661 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] {"{\"repeat\": true, \"config\": [{\"income\":{\"type\":\"percent\",\"value\":\"80\"},\"express\":{\"max\":\"100\",\"min\":\"10\"}}]}":0.0}
2022-02-24 15:05:12 991 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.NullPointerException
	at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)
	at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
	at java.lang.Double.parseDouble(Double.java:538)
	at java.lang.Double.valueOf(Double.java:502)
	at com.liuxin.tspring.engine.RuleEngine.lambda$null$1(RuleEngine.java:78)
	at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:174)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$3(RuleEngine.java:79)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:60)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:71)
2022-02-24 15:05:12 994 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] {"{\"repeat\": true, \"type\": \"ladder\", \"config\": [{\"income\":{\"type\":\"percent\",\"value\":\"80\"},\"express\":{\"max\":\"100\",\"min\":\"10\"}}]}":0.0}
2022-02-24 15:06:06 532 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] {"{\"repeat\": true, \"type\": \"ladder\", \"config\": [{\"income\":{\"type\":\"percent\",\"value\":\"80\"},\"express\":{\"max\":\"100\",\"min\":\"10\"}}]}":240.0}
2022-02-24 15:06:46 121 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] {"{\"repeat\": true, \"type\": \"ladder\", \"config\": [{\"income\":{\"type\":\"percent\",\"value\":\"80\"},\"express\":{\"max\":\"100\",\"min\":\"10\"}}]}":0.0}
2022-02-24 15:10:47 900 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [1000.0,0.0]
2022-02-24 15:11:32 946 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,0.0]
2022-02-24 15:12:07 821 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [1900.0,0.0]
2022-02-24 15:13:07 069 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>10 and #countData<=100) or (#countData>100)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"80"}))
2022-02-24 15:13:07 073 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>10 and #countData<=100) or (#countData>100)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"80"}))
2022-02-24 15:13:07 073 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>100 and #countData<=500) or (#countData>500)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"fixed","value":"100"}))
2022-02-24 15:13:07 076 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>100 and #countData<=500) or (#countData>500)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"fixed","value":"100"}))
2022-02-24 15:13:07 076 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>500 and #countData<=1000) or (#countData>1000)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"100"}))
2022-02-24 15:13:07 076 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=((#countData>500 and #countData<=1000) or (#countData>1000)), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"100"}))
2022-02-24 15:13:07 079 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [1900.0,0.0]
2022-02-24 15:15:49 350 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=(#countData>10 and #countData<=100), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"90"}))
2022-02-24 15:15:49 356 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=(#countData>10 and #countData<=100), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"90"}))
2022-02-24 15:15:49 357 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [54.0]
2022-02-24 15:16:17 549 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=(#countData>10 and #countData<=100), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"90"}))
2022-02-24 15:16:22 399 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=(#countData>10 and #countData<=100), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"90"}))
2022-02-24 15:16:38 698 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [54.0]
2022-02-24 15:18:11 967 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] match express RuleExpress.RuleExpressIncomeInstance(express=(#countData>10 and #countData<=100), expressIncomeCaculator=ExpressIncomeCaculator(incomeConfig={"type":"percent","value":"90"}))
2022-02-24 15:18:22 106 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [54.0]
2022-02-24 16:16:00 499 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [48.0,54.0]
2022-02-24 17:05:09 117 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
com.alibaba.fastjson.JSONException: syntax error, ]
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:553)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseArray(DefaultJSONParser.java:1160)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:479)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1079)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1084)
	at com.alibaba.fastjson.parser.deserializer.MapDeserializer.deserialze(MapDeserializer.java:24)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:642)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:350)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:254)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:467)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:62)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:60)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:05:09 142 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:05:54 739 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.RuleFactory.getInstance(RuleFactory.java:6)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:57)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:69)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:60)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:05:54 743 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:07:35 627 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.RuleFactory.getInstance(RuleFactory.java:6)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:57)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:69)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:60)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:07:35 632 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:22:33 148 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
com.alibaba.fastjson.JSONException: syntax error, expect {, actual [, pos 1, json : [{"min":"10","max":"100","type":"percent","value":"90"}]
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:222)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1079)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1084)
	at com.alibaba.fastjson.parser.deserializer.MapDeserializer.deserialze(MapDeserializer.java:24)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:642)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:350)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:254)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:467)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:27)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:72)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:22:33 152 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:24:47 899 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
com.alibaba.fastjson.JSONException: syntax error, expect {, actual [, pos 1, json : [{"min":"10","max":"100","type":"percent","value":"90"}]
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:222)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1079)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1084)
	at com.alibaba.fastjson.parser.deserializer.MapDeserializer.deserialze(MapDeserializer.java:24)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:642)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:350)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:254)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:467)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:27)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:72)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:24:47 902 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:25:40 367 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
com.alibaba.fastjson.JSONException: syntax error, expect {, actual [, pos 1, json : [{"min":"10","max":"100","type":"percent","value":"90"}]
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:222)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1079)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:1084)
	at com.alibaba.fastjson.parser.deserializer.MapDeserializer.deserialze(MapDeserializer.java:24)
	at com.alibaba.fastjson.parser.DefaultJSONParser.parseObject(DefaultJSONParser.java:642)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:350)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:254)
	at com.alibaba.fastjson.JSON.parseObject(JSON.java:467)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:27)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:72)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:79)
2022-02-24 17:25:40 372 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:27:14 400 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.Exception: unhandler type percent with build RuleExpressParser
	at com.liuxin.tspring.engine.RuleFactory.getInstance(RuleFactory.java:10)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:56)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:72)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:78)
2022-02-24 17:27:14 403 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:29:33 032 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.Exception: unhandler type percent with build RuleExpressParser
	at com.liuxin.tspring.engine.RuleFactory.getInstance(RuleFactory.java:10)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.parseRuleExpress(LadderRuleExpressParser.java:56)
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:72)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:78)
2022-02-24 17:29:33 036 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:30:50 156 [ERROR] [main] [com.liuxin.tspring.engine.RuleEngine] caculate rule income fail
java.lang.NullPointerException
	at com.liuxin.tspring.engine.RuleEngine.lambda$engineWork$4(RuleEngine.java:68)
	at java.util.stream.Collectors.lambda$toMap$58(Collectors.java:1321)
	at java.util.stream.ReduceOps$3ReducingSink.accept(ReduceOps.java:169)
	at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
	at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
	at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
	at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)
	at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)
	at com.liuxin.tspring.engine.RuleEngine.engineWork(RuleEngine.java:61)
	at com.liuxin.tspring.engine.LadderRuleExpressParser.main(LadderRuleExpressParser.java:78)
2022-02-24 17:30:50 159 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0]
2022-02-24 17:31:46 177 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [54.0]
2022-02-24 17:40:26 997 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [54.0,48.0]
2022-02-24 17:41:07 746 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,3700.0]
2022-02-24 17:42:13 295 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] {"{\"repeat\": false, \"config\": {\"type\": \"ladder\", \"express\":[{\"max\":\"100\",\"min\":\"10\",\"type\":\"percent\",\"value\":\"90\"}]}}":0.0,"{\"repeat\": true, \"config\": {\"type\": \"ladder\", \"express\":[{\"max\":\"100\",\"min\":\"10\", \"type\":\"percent\",\"value\":\"80\"},{\"max\":\"500\",\"min\":\"100\", \"type\":\"fixed\",\"value\":\"100\"},{\"max\":\"1000\",\"min\":\"500\", \"type\":\"percent\",\"value\":\"100\"},{\"min\":\"2000\", \"type\":\"fixed\",\"value\":\"1000\"}]}}":3700.0}
2022-02-24 17:44:53 661 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,3700.0]
2022-02-24 17:45:45 777 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,6500.0]
2022-02-24 17:47:08 807 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, config is 【80】
2022-02-24 17:47:08 809 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, result data:【3000】
2022-02-24 17:47:08 810 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, value is 【100】
2022-02-24 17:47:08 810 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, config is 【100】
2022-02-24 17:47:08 810 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, result data:【3000】
2022-02-24 17:47:08 810 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, value is 【1000】
2022-02-24 17:47:08 812 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,6500.0]
2022-02-24 17:48:46 349 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, config is 【80】%
2022-02-24 17:48:46 351 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, income:【2400】
2022-02-24 17:48:46 352 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, value is 【100】
2022-02-24 17:48:46 352 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, config is 【100】%
2022-02-24 17:48:46 352 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, income:【3000】
2022-02-24 17:48:46 352 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, value is 【1000】
2022-02-24 17:48:46 354 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,6500.0]
2022-02-24 17:50:01 865 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, config is 【80】%
2022-02-24 17:50:01 867 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, income:【400】
2022-02-24 17:50:01 867 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] start caculate income, value is 【100】
2022-02-24 17:50:01 867 [INFO] [main] [com.liuxin.tspring.engine.ExpressIncomeCaculator] caculate income end, value is 【100】
2022-02-24 17:50:01 870 [INFO] [main] [com.liuxin.tspring.engine.RuleEngine] [0.0,500.0]
